# Infra Merge Request Changelog Guidelines

Every infra merge request (MR) must have a changelog. Changelogs are stored in the `.changelogs` folder until the next infra release.

To create a changelog, choose one of:

## Manually

1. Create a file in the `.changelogs` folder using the format: `<Jira issue number>.<category>.md` (e.g., `CIAC-11444.doc.md`).
2. The _category_ can be one of the following: `feature`, `bugfix`, `doc`, `removal`, or `misc`.
3. In the file, write a brief one-line changelog for each change.

## Interactively

1. Make sure you're in an updated Poetry environment (pull from infra master, `poetry install`)
2. Run `poetry run towncrier create` _(or `poetry shell` and then `towncrier create`)_
3. Insert the relevant Jira issue as the issue (e.g. `CIAC-0000`) - this will be the file name.
4. Choose the issue type (`feature`, `bugfix`, etc)
5. Briefly describe each change on a separate line.
6. A file will be added to `.changelogs/`.

---

See [Towncrier's docs](https://towncrier.readthedocs.io/en/latest/tutorial.html#creating-news-fragments) for more information.

_P.S Do **not** edit `CHANGELOG.md` - it's autogenerated during infra releases._
